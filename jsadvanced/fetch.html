// Lo scopo di questo task è di mostrare nella pagina una carta de "Il signore degli anelli" con:

// Nome del personaggio
// immagine del personaggio
// Prova a fetchare una card dal db del gioco di carte di Lord of the Rings, 
// la documentazione dell'API la puoi trovare a questo link: https://ringsdb.com/api/doc
// Fai in modo che nella tua pagina html spuntino il nome del personaggio della carta, la sua immagine

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <label for="search">search a card</label>
    <input type="text" name="searchInput" id="search">

    <button>search</button>

    <div class="container"></div>

    <script> 

      const container = document.querySelector(".container") // punto container
      const btn = document.querySelector("button") // punto bottone
      const name = document.createElement("h2"); // punto nome (che mi serve)
      const img = document.createElement("img"); // punto immagine (che mi serve)



 async function getData () {
  try { // gestisco errore, con async await si mette sempre try catch
    const input = document.querySelector("input").value // punto al valore dell'input che è quello che mi serve
    let res = await fetch(`https://ringsdb.com/api/public/card/${inputValue}.json?_format=json`) 
    // dentro al link del fetch metto il valore input che è quello della carta che mi servirá
    let data = await res.json(); // converto in json
    console.log(data); // stampo
    name.textContent = data.name // al nome metto come testo il nome del dato, quindi data.name (= a input.value)
    img.setAttribute("src", `https://ringsdb.com/${data.imagesrc}`) 
    // nell'immagine cambio la fonte src che è un attributo di img quindi uso metodo
    // setAttribute che serve nelle immagini per cambiare il suo url

    container.append(name, img); 

  } catch (error) { // gestisco errore
    console.error(error);
 }

}

btn.addEventListener("click", getData) 
// all'event listener associo la funzione sopra

    </script>
</body>
</html>




